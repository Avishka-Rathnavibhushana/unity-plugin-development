using System;
using System.Text;
using System.Numerics;
using System.Threading.Tasks;

using UnityEngine;

using Nethereum.Web3;
using Nethereum.Util;
using Nethereum.ABI;
using Nethereum.Contracts;
using Nethereum.Web3.Accounts;
using Nethereum.Hex.HexConvertors.Extensions;
using Nethereum.ABI.FunctionEncoding.Attributes;


public class StandardTokenDeploymenMarketPlace : ContractDeploymentMessage
{
    public static string BYTECODE =
        "60a06040523073ffffffffffffffffffffffffffffffffffffffff1660809073ffffffffffffffffffffffffffffffffffffffff1660601b81525034801561004657600080fd5b5060805160601c6147d461008160003960008181611333015281816113c2015281816114bc0152818161154b01526115fb01526147d46000f3fe6080604052600436106101095760003560e01c806363f3678f11610095578063cd6dc68711610064578063cd6dc6871461031e578063d06a77d814610347578063d501a64314610372578063f2fde38b1461039d578063f9368b47146103c657610109565b806363f3678f1461028a578063715018a6146102b35780638da5cb5b146102ca578063923ea93a146102f557610109565b8063284fd8e5116100dc578063284fd8e5146101c85780633659cfe6146101f15780634f1ef2861461021a57806352d1902d1461023657806361335f351461026157610109565b806306fd154a1461010e57806310706b5714610139578063206b2cfc1461017657806321a5edf91461019f575b600080fd5b34801561011a57600080fd5b50610123610405565b6040516101309190613985565b60405180910390f35b34801561014557600080fd5b50610160600480360381019061015b91906133ae565b61042b565b60405161016d9190613a37565b60405180910390f35b34801561018257600080fd5b5061019d60048036038101906101989190613441565b61048f565b005b3480156101ab57600080fd5b506101c660048036038101906101c191906133ee565b610d3f565b005b3480156101d457600080fd5b506101ef60048036038101906101ea9190613231565b611201565b005b3480156101fd57600080fd5b50610218600480360381019061021391906131d7565b611331565b005b610234600480360381019061022f919061329e565b6114ba565b005b34801561024257600080fd5b5061024b6115f7565b6040516102589190613a52565b60405180910390f35b34801561026d57600080fd5b5061028860048036038101906102839190613354565b6116b0565b005b34801561029657600080fd5b506102b160048036038101906102ac91906134a8565b61177b565b005b3480156102bf57600080fd5b506102c8611ddd565b005b3480156102d657600080fd5b506102df611e65565b6040516102ec919061396a565b60405180910390f35b34801561030157600080fd5b5061031c600480360381019061031791906134a8565b611e8f565b005b34801561032a57600080fd5b506103456004803603810190610340919061325e565b612428565b005b34801561035357600080fd5b5061035c61255c565b6040516103699190613ed7565b60405180910390f35b34801561037e57600080fd5b50610387612562565b6040516103949190613ed7565b60405180910390f35b3480156103a957600080fd5b506103c460048036038101906103bf91906131d7565b612568565b005b3480156103d257600080fd5b506103ed60048036038101906103e891906133ae565b612660565b6040516103fc93929190613ef2565b60405180910390f35b60c960009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60008060001b60cc60008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000858152602001908152602001600020600001541415905092915050565b82848060cc60008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008381526020019081526020016000206002015414610526576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161051d90613e37565b60405180910390fd5b848660008290503073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1663081812fc846040518263ffffffff1660e01b815260040161057d9190613ed7565b60206040518083038186803b15801561059557600080fd5b505afa1580156105a9573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105cd9190613204565b73ffffffffffffffffffffffffffffffffffffffff1614806106fe57508073ffffffffffffffffffffffffffffffffffffffff1663e985e9c58273ffffffffffffffffffffffffffffffffffffffff16636352211e856040518263ffffffff1660e01b815260040161063f9190613ed7565b60206040518083038186803b15801561065757600080fd5b505afa15801561066b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061068f9190613204565b306040518363ffffffff1660e01b81526004016106ad9291906139d7565b60206040518083038186803b1580156106c557600080fd5b505afa1580156106d9573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106fd91906132fa565b5b61073d576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161073490613c97565b60405180910390fd5b600060cc60008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008b81526020019081526020016000206040518060e0016040529081600082015481526020016001820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001600282015481526020016003820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020016004820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001600582015481526020016006820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815250509050600073ffffffffffffffffffffffffffffffffffffffff16816080015173ffffffffffffffffffffffffffffffffffffffff1614806109805750806080015173ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16145b6109bf576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016109b690613cd7565b60405180910390fd5b60008160a001519050600088905060008a73ffffffffffffffffffffffffffffffffffffffff166370a08231336040518263ffffffff1660e01b8152600401610a08919061396a565b60206040518083038186803b158015610a2057600080fd5b505afa158015610a34573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610a589190613381565b905080831115610a9d576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610a9490613d37565b60405180910390fd5b8b73ffffffffffffffffffffffffffffffffffffffff166342842e0e85606001513387604001516040518463ffffffff1660e01b8152600401610ae2939291906139a0565b600060405180830381600087803b158015610afc57600080fd5b505af1158015610b10573d6000803e3d6000fd5b505050508a73ffffffffffffffffffffffffffffffffffffffff166323b872dd338660600151866040518463ffffffff1660e01b8152600401610b5593929190613a00565b602060405180830381600087803b158015610b6f57600080fd5b505af1158015610b83573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ba791906132fa565b5060cc60008d73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008e81526020019081526020016000206000808201600090556001820160006101000a81549073ffffffffffffffffffffffffffffffffffffffff021916905560028201600090556003820160006101000a81549073ffffffffffffffffffffffffffffffffffffffff02191690556004820160006101000a81549073ffffffffffffffffffffffffffffffffffffffff021916905560058201600090556006820160006101000a81549073ffffffffffffffffffffffffffffffffffffffff021916905550507f91cfc94caec77250d33e37879719e377091dbdecf037ac15f6d1c8cb8517a16b8460000151856020015186604001518760600151338960a0015160c960009054906101000a900473ffffffffffffffffffffffffffffffffffffffff166000806000604051610d289a99989796959493929190613ac0565b60405180910390a150505050505050505050505050565b81838060cc60008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008381526020019081526020016000206002015414610dd6576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610dcd90613e37565b60405180910390fd5b838560008290503373ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16636352211e846040518263ffffffff1660e01b8152600401610e2d9190613ed7565b60206040518083038186803b158015610e4557600080fd5b505afa158015610e59573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610e7d9190613204565b73ffffffffffffffffffffffffffffffffffffffff1614610ed3576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610eca90613e97565b60405180910390fd5b600060cc60008973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008a81526020019081526020016000206040518060e0016040529081600082015481526020016001820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001600282015481526020016003820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020016004820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001600582015481526020016006820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681525050905060cc60008973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008a81526020019081526020016000206000808201600090556001820160006101000a81549073ffffffffffffffffffffffffffffffffffffffff021916905560028201600090556003820160006101000a81549073ffffffffffffffffffffffffffffffffffffffff02191690556004820160006101000a81549073ffffffffffffffffffffffffffffffffffffffff021916905560058201600090556006820160006101000a81549073ffffffffffffffffffffffffffffffffffffffff021916905550507f8dbdf5624325db00804a074519b2f17a85b5977a762de83d37bdb6b74794ab7a8160000151898b84606001518b6040516111ee959493929190613a6d565b60405180910390a1505050505050505050565b611209612902565b73ffffffffffffffffffffffffffffffffffffffff16611227611e65565b73ffffffffffffffffffffffffffffffffffffffff161461127d576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161127490613e17565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614156112ed576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016112e490613e57565b60405180910390fd5b8060c960006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163073ffffffffffffffffffffffffffffffffffffffff1614156113c0576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016113b790613cf7565b60405180910390fd5b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff166113ff61290a565b73ffffffffffffffffffffffffffffffffffffffff1614611455576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161144c90613d57565b60405180910390fd5b61145e81612961565b6114b781600067ffffffffffffffff81111561147d5761147c61415e565b5b6040519080825280601f01601f1916602001820160405280156114af5781602001600182028036833780820191505090505b5060006129e0565b50565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163073ffffffffffffffffffffffffffffffffffffffff161415611549576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161154090613cf7565b60405180910390fd5b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1661158861290a565b73ffffffffffffffffffffffffffffffffffffffff16146115de576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016115d590613d57565b60405180910390fd5b6115e782612961565b6115f3828260016129e0565b5050565b60007f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163073ffffffffffffffffffffffffffffffffffffffff1614611687576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161167e90613d77565b60405180910390fd5b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b905090565b6116b8612902565b73ffffffffffffffffffffffffffffffffffffffff166116d6611e65565b73ffffffffffffffffffffffffffffffffffffffff161461172c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161172390613e17565b60405180910390fd5b60cb54811115611771576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161176890613d17565b60405180910390fd5b8060ca8190555050565b838560008290503073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1663081812fc846040518263ffffffff1660e01b81526004016117d29190613ed7565b60206040518083038186803b1580156117ea57600080fd5b505afa1580156117fe573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906118229190613204565b73ffffffffffffffffffffffffffffffffffffffff16148061195357508073ffffffffffffffffffffffffffffffffffffffff1663e985e9c58273ffffffffffffffffffffffffffffffffffffffff16636352211e856040518263ffffffff1660e01b81526004016118949190613ed7565b60206040518083038186803b1580156118ac57600080fd5b505afa1580156118c0573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906118e49190613204565b306040518363ffffffff1660e01b81526004016119029291906139d7565b60206040518083038186803b15801561191a57600080fd5b505afa15801561192e573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061195291906132fa565b5b611992576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161198990613c97565b60405180910390fd5b868860008290503373ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16636352211e846040518263ffffffff1660e01b81526004016119e99190613ed7565b60206040518083038186803b158015611a0157600080fd5b505afa158015611a15573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611a399190613204565b73ffffffffffffffffffffffffffffffffffffffff1614611a8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611a8690613e97565b60405180910390fd5b60008911611ad2576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611ac990613c77565b60405180910390fd5b600042338d8d8d8c604051602001611aef969594939291906138fa565b60405160208183030381529060405280519060200120905060006040518060e001604052808381526020018d73ffffffffffffffffffffffffffffffffffffffff1681526020018e81526020013373ffffffffffffffffffffffffffffffffffffffff1681526020018b73ffffffffffffffffffffffffffffffffffffffff1681526020018c81526020018a73ffffffffffffffffffffffffffffffffffffffff1681525090508060cc60008e73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008f81526020019081526020016000206000820151816000015560208201518160010160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506040820151816002015560608201518160030160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060808201518160040160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060a0820151816005015560c08201518160060160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550905050806040015160cc60008e73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008f81526020019081526020016000206002015414611d8b57611d8a61412f565b5b7f6688874fe30931e3b53773cc369466ffcfaf8b5537603e4f1669df5afb550c45828d8f338f8f8f604051611dc69796959493929190613bcb565b60405180910390a150505050505050505050505050565b611de5612902565b73ffffffffffffffffffffffffffffffffffffffff16611e03611e65565b73ffffffffffffffffffffffffffffffffffffffff1614611e59576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611e5090613e17565b60405180910390fd5b611e636000612b5d565b565b6000603360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b83858060cc60008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008381526020019081526020016000206002015414611f26576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611f1d90613e37565b60405180910390fd5b858760008290503373ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16636352211e846040518263ffffffff1660e01b8152600401611f7d9190613ed7565b60206040518083038186803b158015611f9557600080fd5b505afa158015611fa9573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611fcd9190613204565b73ffffffffffffffffffffffffffffffffffffffff1614612023576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161201a90613e97565b60405180910390fd5b600060cc60008b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008c81526020019081526020016000206040518060e0016040529081600082015481526020016001820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001600282015481526020016003820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020016004820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001600582015481526020016006820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815250509050888160a001818152505087816080019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff16815250508060cc60008c73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008d81526020019081526020016000206000820151816000015560208201518160010160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506040820151816002015560608201518160030160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060808201518160040160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060a0820151816005015560c08201518160060160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055509050507f1a09d77050e406f3e04cc259db2d4f6541efb82cf7905d9979514dbb132e6e1081600001518b8d84606001518560a0015186608001518d6040516124139796959493929190613b5c565b60405180910390a15050505050505050505050565b60006124346001612c23565b90508015612458576001600060016101000a81548160ff0219169083151502179055505b6103e860cb8190555060cb548211156124a6576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161249d90613d17565b60405180910390fd5b6124ae612d13565b6124b6612d6c565b8260c960006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508160ca8190555080156125575760008060016101000a81548160ff0219169083151502179055507f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb3847402498600160405161254e9190613c3a565b60405180910390a15b505050565b60ca5481565b60cb5481565b612570612902565b73ffffffffffffffffffffffffffffffffffffffff1661258e611e65565b73ffffffffffffffffffffffffffffffffffffffff16146125e4576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016125db90613e17565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415612654576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161264b90613cb7565b60405180910390fd5b61265d81612b5d565b50565b600080600083858060cc60008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600083815260200190815260200160002060020154146126fc576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016126f390613e37565b60405180910390fd5b600060cc60008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008981526020019081526020016000206040518060e0016040529081600082015481526020016001820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001600282015481526020016003820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020016004820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001600582015481526020016006820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681525050905060008160a00151905060008260600151905060008360c0015190508281839850985098505050505050509250925092565b600033905090565b60006129387f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b612dbd565b60000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b612969612902565b73ffffffffffffffffffffffffffffffffffffffff16612987611e65565b73ffffffffffffffffffffffffffffffffffffffff16146129dd576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016129d490613e17565b60405180910390fd5b50565b612a0c7f4910fdfa16fed3260ed0e7147f7cc6da11a60208b5b9406d12a635614ffd914360001b612dc7565b60000160009054906101000a900460ff1615612a3057612a2b83612dd1565b612b58565b8273ffffffffffffffffffffffffffffffffffffffff166352d1902d6040518163ffffffff1660e01b815260040160206040518083038186803b158015612a7657600080fd5b505afa925050508015612aa757506040513d601f19601f82011682018060405250810190612aa49190613327565b60015b612ae6576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401612add90613dd7565b60405180910390fd5b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b8114612b4b576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401612b4290613d97565b60405180910390fd5b50612b57838383612e8a565b5b505050565b6000603360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905081603360006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b60008060019054906101000a900460ff1615612c9a5760018260ff16148015612c525750612c5030612eb6565b155b612c91576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401612c8890613db7565b60405180910390fd5b60009050612d0e565b8160ff1660008054906101000a900460ff1660ff1610612cef576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401612ce690613db7565b60405180910390fd5b816000806101000a81548160ff021916908360ff160217905550600190505b919050565b600060019054906101000a900460ff16612d62576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401612d5990613eb7565b60405180910390fd5b612d6a612ed9565b565b600060019054906101000a900460ff16612dbb576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401612db290613eb7565b60405180910390fd5b565b6000819050919050565b6000819050919050565b612dda81612eb6565b612e19576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401612e1090613df7565b60405180910390fd5b80612e467f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b612dbd565b60000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b612e9383612f3a565b600082511180612ea05750805b15612eb157612eaf8383612f89565b505b505050565b6000808273ffffffffffffffffffffffffffffffffffffffff163b119050919050565b600060019054906101000a900460ff16612f28576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401612f1f90613eb7565b60405180910390fd5b612f38612f33612902565b612b5d565b565b612f4381612dd1565b8073ffffffffffffffffffffffffffffffffffffffff167fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b60405160405180910390a250565b6060612f9483612eb6565b612fd3576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401612fca90613e77565b60405180910390fd5b6000808473ffffffffffffffffffffffffffffffffffffffff1684604051612ffb91906138e3565b600060405180830381855af49150503d8060008114613036576040519150601f19603f3d011682016040523d82523d6000602084013e61303b565b606091505b509150915061306382826040518060600160405280602781526020016147786027913961306d565b9250505092915050565b6060831561307d578290506130cd565b6000835111156130905782518084602001fd5b816040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016130c49190613c55565b60405180910390fd5b9392505050565b60006130e76130e284613f4e565b613f29565b90508281526020810184848401111561310357613102614192565b5b61310e84828561407c565b509392505050565b60008135905061312581614704565b92915050565b60008151905061313a81614704565b92915050565b60008135905061314f8161471b565b92915050565b60008151905061316481614732565b92915050565b60008151905061317981614749565b92915050565b600082601f8301126131945761319361418d565b5b81356131a48482602086016130d4565b91505092915050565b6000813590506131bc81614760565b92915050565b6000815190506131d181614760565b92915050565b6000602082840312156131ed576131ec61419c565b5b60006131fb84828501613116565b91505092915050565b60006020828403121561321a5761321961419c565b5b60006132288482850161312b565b91505092915050565b6000602082840312156132475761324661419c565b5b600061325584828501613140565b91505092915050565b600080604083850312156132755761327461419c565b5b600061328385828601613140565b9250506020613294858286016131ad565b9150509250929050565b600080604083850312156132b5576132b461419c565b5b60006132c385828601613116565b925050602083013567ffffffffffffffff8111156132e4576132e3614197565b5b6132f08582860161317f565b9150509250929050565b6000602082840312156133105761330f61419c565b5b600061331e84828501613155565b91505092915050565b60006020828403121561333d5761333c61419c565b5b600061334b8482850161316a565b91505092915050565b60006020828403121561336a5761336961419c565b5b6000613378848285016131ad565b91505092915050565b6000602082840312156133975761339661419c565b5b60006133a5848285016131c2565b91505092915050565b600080604083850312156133c5576133c461419c565b5b60006133d3858286016131ad565b92505060206133e485828601613116565b9150509250929050565b6000806000606084860312156134075761340661419c565b5b6000613415868287016131ad565b935050602061342686828701613116565b925050604061343786828701613116565b9150509250925092565b6000806000806080858703121561345b5761345a61419c565b5b6000613469878288016131ad565b945050602061347a87828801613116565b935050604061348b87828801613116565b925050606061349c87828801613116565b91505092959194509250565b600080600080600060a086880312156134c4576134c361419c565b5b60006134d2888289016131ad565b95505060206134e388828901613116565b94505060406134f4888289016131ad565b935050606061350588828901613116565b925050608061351688828901613116565b9150509295509295909350565b61352c81614022565b82525050565b61353b81613fc3565b82525050565b61355261354d82613fc3565b614101565b82525050565b61356181613fb1565b82525050565b61357861357382613fb1565b6140ef565b82525050565b61358781613fd5565b82525050565b61359681613fe1565b82525050565b60006135a782613f7f565b6135b18185613f95565b93506135c181856020860161408b565b80840191505092915050565b6135d681614034565b82525050565b6135e581614046565b82525050565b60006135f682613f8a565b6136008185613fa0565b935061361081856020860161408b565b613619816141a1565b840191505092915050565b6000613631602183613fa0565b915061363c826141bf565b604082019050919050565b6000613654602583613fa0565b915061365f8261420e565b604082019050919050565b6000613677602683613fa0565b91506136828261425d565b604082019050919050565b600061369a602483613fa0565b91506136a5826142ac565b604082019050919050565b60006136bd602c83613fa0565b91506136c8826142fb565b604082019050919050565b60006136e0602583613fa0565b91506136eb8261434a565b604082019050919050565b6000613703601783613fa0565b915061370e82614399565b602082019050919050565b6000613726602c83613fa0565b9150613731826143c2565b604082019050919050565b6000613749603883613fa0565b915061375482614411565b604082019050919050565b600061376c602983613fa0565b915061377782614460565b604082019050919050565b600061378f602e83613fa0565b915061379a826144af565b604082019050919050565b60006137b2602e83613fa0565b91506137bd826144fe565b604082019050919050565b60006137d5602d83613fa0565b91506137e08261454d565b604082019050919050565b60006137f8602083613fa0565b91506138038261459c565b602082019050919050565b600061381b601383613fa0565b9150613826826145c5565b602082019050919050565b600061383e601b83613fa0565b9150613849826145ee565b602082019050919050565b6000613861602683613fa0565b915061386c82614617565b604082019050919050565b6000613884602883613fa0565b915061388f82614666565b604082019050919050565b60006138a7602b83613fa0565b91506138b2826146b5565b604082019050919050565b6138c68161400b565b82525050565b6138dd6138d88261400b565b614125565b82525050565b60006138ef828461359c565b915081905092915050565b600061390682896138cc565b6020820191506139168288613541565b60148201915061392682876138cc565b6020820191506139368286613567565b60148201915061394682856138cc565b6020820191506139568284613567565b601482019150819050979650505050505050565b600060208201905061397f6000830184613558565b92915050565b600060208201905061399a6000830184613532565b92915050565b60006060820190506139b56000830186613523565b6139c26020830185613558565b6139cf60408301846138bd565b949350505050565b60006040820190506139ec6000830185613558565b6139f96020830184613558565b9392505050565b6000606082019050613a156000830186613558565b613a226020830185613523565b613a2f60408301846138bd565b949350505050565b6000602082019050613a4c600083018461357e565b92915050565b6000602082019050613a67600083018461358d565b92915050565b600060a082019050613a82600083018861358d565b613a8f6020830187613558565b613a9c60408301866138bd565b613aa96060830185613523565b613ab66080830184613558565b9695505050505050565b600061014082019050613ad6600083018d61358d565b613ae3602083018c613558565b613af0604083018b6138bd565b613afd606083018a613523565b613b0a6080830189613558565b613b1760a08301886138bd565b613b2460c0830187613523565b613b3160e08301866135cd565b613b3f610100830185613558565b613b4d6101208301846135cd565b9b9a5050505050505050505050565b600060e082019050613b71600083018a61358d565b613b7e6020830189613558565b613b8b60408301886138bd565b613b986060830187613523565b613ba560808301866138bd565b613bb260a0830185613523565b613bbf60c0830184613558565b98975050505050505050565b600060e082019050613be0600083018a61358d565b613bed6020830189613558565b613bfa60408301886138bd565b613c076060830187613558565b613c1460808301866138bd565b613c2160a0830185613558565b613c2e60c0830184613558565b98975050505050505050565b6000602082019050613c4f60008301846135dc565b92915050565b60006020820190508181036000830152613c6f81846135eb565b905092915050565b60006020820190508181036000830152613c9081613624565b9050919050565b60006020820190508181036000830152613cb081613647565b9050919050565b60006020820190508181036000830152613cd08161366a565b9050919050565b60006020820190508181036000830152613cf08161368d565b9050919050565b60006020820190508181036000830152613d10816136b0565b9050919050565b60006020820190508181036000830152613d30816136d3565b9050919050565b60006020820190508181036000830152613d50816136f6565b9050919050565b60006020820190508181036000830152613d7081613719565b9050919050565b60006020820190508181036000830152613d908161373c565b9050919050565b60006020820190508181036000830152613db08161375f565b9050919050565b60006020820190508181036000830152613dd081613782565b9050919050565b60006020820190508181036000830152613df0816137a5565b9050919050565b60006020820190508181036000830152613e10816137c8565b9050919050565b60006020820190508181036000830152613e30816137eb565b9050919050565b60006020820190508181036000830152613e508161380e565b9050919050565b60006020820190508181036000830152613e7081613831565b9050919050565b60006020820190508181036000830152613e9081613854565b9050919050565b60006020820190508181036000830152613eb081613877565b9050919050565b60006020820190508181036000830152613ed08161389a565b9050919050565b6000602082019050613eec60008301846138bd565b92915050565b6000606082019050613f0760008301866138bd565b613f146020830185613558565b613f216040830184613558565b949350505050565b6000613f33613f44565b9050613f3f82826140be565b919050565b6000604051905090565b600067ffffffffffffffff821115613f6957613f6861415e565b5b613f72826141a1565b9050602081019050919050565b600081519050919050565b600081519050919050565b600081905092915050565b600082825260208201905092915050565b6000613fbc82613feb565b9050919050565b6000613fce82613feb565b9050919050565b60008115159050919050565b6000819050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b600060ff82169050919050565b600061402d82614058565b9050919050565b600061403f8261400b565b9050919050565b600061405182614015565b9050919050565b60006140638261406a565b9050919050565b600061407582613feb565b9050919050565b82818337600083830152505050565b60005b838110156140a957808201518184015260208101905061408e565b838111156140b8576000848401525b50505050565b6140c7826141a1565b810181811067ffffffffffffffff821117156140e6576140e561415e565b5b80604052505050565b60006140fa82614113565b9050919050565b600061410c82614113565b9050919050565b600061411e826141b2565b9050919050565b6000819050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052600160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b600080fd5b600080fd5b600080fd5b600080fd5b6000601f19601f8301169050919050565b60008160601b9050919050565b7f50726963652073686f756c642062652067726561746572207468616e207a657260008201527f6f00000000000000000000000000000000000000000000000000000000000000602082015250565b7f546f6b656e20646f6573206e6f742068617665207472616e736665722061707060008201527f726f76616c000000000000000000000000000000000000000000000000000000602082015250565b7f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160008201527f6464726573730000000000000000000000000000000000000000000000000000602082015250565b7f4f6e6c7920656c696769626c652062757965722063616e20627579207468652060008201527f6974656d00000000000000000000000000000000000000000000000000000000602082015250565b7f46756e6374696f6e206d7573742062652063616c6c6564207468726f7567682060008201527f64656c656761746563616c6c0000000000000000000000000000000000000000602082015250565b7f43616e6e6f742063686172676520636f6d6d6973696f6e206d6f72652074686160008201527f6e20313025000000000000000000000000000000000000000000000000000000602082015250565b7f4e6f7420656e6f75676820455243323020546f6b656e73000000000000000000600082015250565b7f46756e6374696f6e206d7573742062652063616c6c6564207468726f7567682060008201527f6163746976652070726f78790000000000000000000000000000000000000000602082015250565b7f555550535570677261646561626c653a206d757374206e6f742062652063616c60008201527f6c6564207468726f7567682064656c656761746563616c6c0000000000000000602082015250565b7f45524331393637557067726164653a20756e737570706f727465642070726f7860008201527f6961626c65555549440000000000000000000000000000000000000000000000602082015250565b7f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160008201527f647920696e697469616c697a6564000000000000000000000000000000000000602082015250565b7f45524331393637557067726164653a206e657720696d706c656d656e7461746960008201527f6f6e206973206e6f742055555053000000000000000000000000000000000000602082015250565b7f455243313936373a206e657720696d706c656d656e746174696f6e206973206e60008201527f6f74206120636f6e747261637400000000000000000000000000000000000000602082015250565b7f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572600082015250565b7f436f756c64206e6f742066696e64206974656d00000000000000000000000000600082015250565b7f666565732063616e6e6f7420676f20746f203020616464726573730000000000600082015250565b7f416464726573733a2064656c65676174652063616c6c20746f206e6f6e2d636f60008201527f6e74726163740000000000000000000000000000000000000000000000000000602082015250565b7f4f6e6c7920746f6b656e206f776e65722063616e20706572666f726d2074686960008201527f7320616374696f6e000000000000000000000000000000000000000000000000602082015250565b7f496e697469616c697a61626c653a20636f6e7472616374206973206e6f74206960008201527f6e697469616c697a696e67000000000000000000000000000000000000000000602082015250565b61470d81613fb1565b811461471857600080fd5b50565b61472481613fc3565b811461472f57600080fd5b50565b61473b81613fd5565b811461474657600080fd5b50565b61475281613fe1565b811461475d57600080fd5b50565b6147698161400b565b811461477457600080fd5b5056fe416464726573733a206c6f772d6c6576656c2064656c65676174652063616c6c206661696c6564a26469706673582212207ae383fc0aed0e21cbd65ebd3cbb45310d11c91f869fa7c9905fd04f54079c7264736f6c63430008070033";

    public StandardTokenDeploymenMarketPlace() : base(BYTECODE)
    {
    }
}

[Function("addItem", "bool")]
public class AddItemFunction : FunctionMessage
{
    [Parameter("uint256", "tokenId", 0)]
    public BigInteger tokenId { get; set; }

    [Parameter("address", "tokenAddress", 1)]
    public string tokenAddress { get; set; }

    [Parameter("uint256", "price", 2)]
    public BigInteger price { get; set; }

    [Parameter("address", "eligibleBuyer", 3)]
    public string eligibleBuyer { get; set; }

    [Parameter("address", "ERC20TokenAddress", 4)]
    public string ERC20TokenAddress { get; set; }

}

[Function("buyItem", "bool")]
public class BuyItemFunction : FunctionMessage
{
    [Parameter("uint256", "tokenId", 0)]
    public BigInteger tokenId { get; set; }

    [Parameter("address", "tokenAddress", 1)]
    public string tokenAddress { get; set; }

    [Parameter("address", "ERC20TokenAddress", 2)]
    public string ERC20TokenAddress { get; set; }

    [Parameter("address", "ERC20TokenOwnerAddress", 3)]
    public string ERC20TokenOwnerAddress { get; set; }
}

[Function("withdrawItem", "bool")]
public class WithdrawItemFunction : FunctionMessage
{
    [Parameter("uint256", "tokenId", 0)]
    public BigInteger tokenId { get; set; }

    [Parameter("address", "tokenAddress", 1)]
    public string tokenAddress { get; set; }

    [Parameter("address", "ERC20TokenAddress", 2)]
    public string ERC20TokenAddress { get; set; }
}

[Function("checkItemExistance", "bool")]
public class CheckItemExistanceFunction : FunctionMessage
{
    [Parameter("uint256", "tokenId", 0)]
    public BigInteger tokenId { get; set; }

    [Parameter("address", "tokenAddress", 1)]
    public string tokenAddress { get; set; }
}

[Function("getItem", "bool")]
public class GetItemFunction : FunctionMessage
{
    [Parameter("uint256", "tokenId", 0)]
    public BigInteger tokenId { get; set; }

    [Parameter("address", "tokenAddress", 1)]
    public string tokenAddress { get; set; }
}

[FunctionOutput]
public class GetItemOutputDTO : IFunctionOutputDTO
{
    [Parameter("uint256", "price", 1)]
    public BigInteger Price { get; set; }

    [Parameter("address", "ERC20TokenAddress", 2)]
    public string ERC20TokenAddress { get; set; }

    [Parameter("address", "seller", 3)]
    public string seller { get; set; }
}

/*[Function("openSales", "bytes32")]
public class OpenSalesFunctionERC721 : FunctionMessage
{
    [Parameter("address", "", 0)]
    public string CollectionAddress { get; set; }

    [Parameter("uint256", "", 1)]
    public BigInteger TokenId { get; set; }
}

[FunctionOutput]
public class OpenSalesFunctionOutputMultipleDTO : IFunctionOutputDTO
{
    [Parameter("bytes32", "orderId", 1)]
    public string orderId { get; set; }

    [Parameter("address", "tokenAddress", 2)]
    public string tokenAddress { get; set; }
}*/


public class GameManagerMarketPlace : MonoBehaviour
{
    private string gameDeveloperPrivateKey = "";

    private int chainId;
    private string rpcUrl;

    public GameObject marketPlace;
    public WalletConnectClient walletConnectClient;

    // Start is called before the first frame update
    void Start()
    {
        this.chainId = Constants.AVALANCHE_TESTNET_CHAIN_ID;
        this.rpcUrl = Constants.AVALANCHE_TESTNET_RPC_URL;

        LoadPrivateKey();
    }

    private bool LoadPrivateKey()
    {
        if (FileManager.LoadFromFile("Wallet Acccount Data.dat", out var json))
        {
            WalletAcccountData walletAcccountData = new WalletAcccountData();
            walletAcccountData.LoadFromJson(json);

            LoadFromWalletAcccountData(walletAcccountData);
            return true;
        }
        else
        {
            Debug.Log("No File");
            return false;
        }
    }

    public void LoadFromWalletAcccountData(WalletAcccountData walletAcccountData)
    {
        // Set local variables
        this.gameDeveloperPrivateKey = walletAcccountData.privateKey;
    }

    public void showMarket()
    {
        marketPlace.gameObject.SetActive(true);
    }

    public async Task<bool> PlayerBuyNFT(BigInteger transferingTokenID, string ERC721TokenContractAddress, string ERC20TokenContractAddress, string seller, string gameDeveloperPublicKey, string contractAddress)
    {
        string functionSignature = "buyItem(uint256,address,address,address)";
        var functionMessage = new BuyItemFunction()
        {
            tokenId = transferingTokenID,
            tokenAddress = ERC721TokenContractAddress,
            ERC20TokenAddress = ERC20TokenContractAddress,
            ERC20TokenOwnerAddress = seller
        };

        byte[] value = Encoding.ASCII.GetBytes(functionSignature);
        var hash = new Sha3Keccack().CalculateHash(value);
        var methodSignature = hash.ToHex();
        var methodSignature4bytes = methodSignature.Substring(0, 8);

        var abiEncode = new ABIEncode();
        var parameterEncoding = abiEncode.GetABIParamsEncoded(functionMessage).ToHex();

        var completeDataHex = "0x" + methodSignature4bytes + parameterEncoding;
        Debug.Log(completeDataHex);
        await walletConnectClient.SendTransactionCustom(completeDataHex, gameDeveloperPublicKey, contractAddress, this.chainId);
        Debug.Log("Buy Successful");
        return true;
    }

    public async Task<bool> CheckItemExistance(BigInteger tokenId, string tokenAddress, string contractAddress)
    {
        var web3 = new Web3(rpcUrl);

        var functionMessage = new CheckItemExistanceFunction()
        {
            tokenId = tokenId,
            tokenAddress = tokenAddress,
        };

        var handler = web3.Eth.GetContractQueryHandler<CheckItemExistanceFunction>();

        var result = await handler.QueryAsync<bool>(contractAddress, functionMessage);

        return result;
    }

    public async Task<bool> PlayerAddNFT(BigInteger tokenId, string tokenAddress, BigInteger price, string ERC20TokenAddress, string gameDeveloperPublicKey, string contractAddress)
    {
        string functionSignature = "addItem(uint256,address,uint256,address,address)";
        var functionMessage = new AddItemFunction()
        {
            tokenId = tokenId,
            tokenAddress = tokenAddress,
            price = price,
            eligibleBuyer = "0x0000000000000000000000000000000000000000",
            ERC20TokenAddress = ERC20TokenAddress,
        };

        byte[] value = Encoding.ASCII.GetBytes(functionSignature);
        var hash = new Sha3Keccack().CalculateHash(value);
        var methodSignature = hash.ToHex();
        var methodSignature4bytes = methodSignature.Substring(0, 8);

        var abiEncode = new ABIEncode();
        var parameterEncoding = abiEncode.GetABIParamsEncoded(functionMessage).ToHex();

        var completeDataHex = "0x" + methodSignature4bytes + parameterEncoding;
        Debug.Log(completeDataHex);
        await walletConnectClient.SendTransactionCustom(completeDataHex, gameDeveloperPublicKey, contractAddress, this.chainId);
        Debug.Log("Add Successful");
        return true;
    }

    public async Task<bool> PlayerWithdrawNFT(BigInteger tokenId, string tokenAddress, string ERC20TokenAddress, string gameDeveloperPublicKey, string contractAddress)
    {
        string functionSignature = "withdrawItem(uint256,address,address)";
        var functionMessage = new WithdrawItemFunction()
        {
            tokenId = tokenId,
            tokenAddress = tokenAddress,
            ERC20TokenAddress = ERC20TokenAddress
        };

        byte[] value = Encoding.ASCII.GetBytes(functionSignature);
        var hash = new Sha3Keccack().CalculateHash(value);
        var methodSignature = hash.ToHex();
        var methodSignature4bytes = methodSignature.Substring(0, 8);

        var abiEncode = new ABIEncode();
        var parameterEncoding = abiEncode.GetABIParamsEncoded(functionMessage).ToHex();

        var completeDataHex = "0x" + methodSignature4bytes + parameterEncoding;
        Debug.Log(completeDataHex);
        await walletConnectClient.SendTransactionCustom(completeDataHex, gameDeveloperPublicKey, contractAddress, this.chainId);
        Debug.Log("Withdraw Successful");
        return true;
    }

    public async Task<GetItemOutputDTO> getSaleItemDetails(BigInteger tokenId, string tokenAddress, string contractAddress)
    {
        var account = new Account(this.gameDeveloperPrivateKey, this.chainId);
        var web3 = new Web3(this.rpcUrl);
        var functionMessage = new GetItemFunction()
        {
            tokenId = tokenId,
            tokenAddress = tokenAddress,
        };
        var handler = web3.Eth.GetContractQueryHandler<GetItemFunction>();
        var getItemOutputDTO = await handler.QueryDeserializingToObjectAsync<GetItemOutputDTO>(functionMessage, contractAddress);

        Debug.Log(getItemOutputDTO.Price.ToString());
        return getItemOutputDTO;
    }
}
